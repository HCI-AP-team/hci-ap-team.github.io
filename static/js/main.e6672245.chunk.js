(this["webpackJsonpfont-end"]=this["webpackJsonpfont-end"]||[]).push([[0],{437:function(e,t,n){e.exports=n(663)},442:function(e,t,n){},536:function(e,t){},663:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(30),c=n.n(o),i=(n(442),n(34)),l=n.n(i),u=n(50),s=n(25),m=n(667),d=n(673),f=n(711),h=n(347),p=n(713),g=n(714),v=n(717),b=n(716),E=n(715),w=n(92),y=Object(f.a)({root:{width:"100vw",height:"100vh"},title:{fontSize:"35px",fontWeight:"bold",textAlign:"center"},root1:{minWidth:200,maxWidth:345},media:{height:140},cards:{display:"flex",width:"100%",justifyContent:"space-around",margin:"20vh auto"}}),j=function(e){var t=e.language,n=y(),a=[{img:"/lkc.jpg",name:"\u674e\u5eb7\u8bda",enName:"Kangcheng Li",des:"\u6570\u636e\u5e93\u7ba1\u7406\u5458",enDes:"database manager",link:"https://github.com/lkczn"},{img:"/gs.jpg",name:"\u90ed\u5e05",enName:"Shuai Guo",des:"\u8fd0\u7ef4\u5de5\u7a0b\u5e08",enDes:"packege engineer",link:"https://github.com/loveisever"},{img:"/gsw.jpg",name:"\u9ad8\u58eb\u73ae",enName:"Shiwei Gao",des:"\u540e\u7aef\u5de5\u7a0b\u5e08",enDes:"back-end engineer",link:"https://github.com/shituweian"},{img:"/xww.jpg",name:"\u8096\u6587\u4f1f",enName:"Wenwei Xiao",des:"\u524d\u7aef\u5de5\u7a0b\u5e08",enDes:"front-end engineer",link:"https://github.com/xiao-wenwei"},{img:"/pzz.jpg",name:"\u5f6d\u594f\u7ae0",enName:"Zouzhang Peng",des:"\u524d\u7aef\u5de5\u7a0b\u5e08",enDes:"front-end engineer",link:"https://github.com/GiorgioPeng"}].map((function(e){return r.a.createElement(p.a,{className:n.root1,key:e.name},r.a.createElement(g.a,null,r.a.createElement(E.a,{className:n.media,image:""+e.img,title:"Contemplative Reptile"}),r.a.createElement(b.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},e.des)):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.enName),r.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},e.enDes)))),r.a.createElement(v.a,null,r.a.createElement(m.a,{size:"large",variant:"contained",color:"primary"},r.a.createElement("a",{href:e.link},t?"\u6211\u7684github":"My github"))))}));return r.a.createElement("div",{className:n.root},r.a.createElement("p",{className:n.title},t?"\u6b22\u8fce\u6765\u5230\u6211\u4eec\u7684\u65b0\u51a0\u80ba\u708e\u53ef\u89c6\u5316\u7cfb\u7edf":"Welcome to our covid-19 visualization system"),r.a.createElement("div",{className:n.cards},a))},O=n(719),C=n(718);var x=function(e){var t=e.language,n=e.setLanguage,o=e.showHint,c=Object(a.useCallback)((function(e){n(e);var t=e?"1":"2";localStorage.setItem("language",t)}),[]);return r.a.createElement("div",{style:{opacity:o?1:0}},r.a.createElement(C.a,{color:"primary"},r.a.createElement(m.a,{variant:t?"contained":"outlined",onClick:function(){return c(!0)}},"\u4e2d\u6587"),r.a.createElement(m.a,{variant:t?"outlined":"contained",onClick:function(){return c(!1)}},"English")))},k=Object(f.a)({root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"black","& p":{fontSize:"45px",color:"white",textAlign:"center",width:"70vw"}},load:{height:"60vh",width:"60vw",margin:"20vh auto",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},hint:{textAlign:"center",color:"white",transition:"1s linear all",marginBottom:"3vh"}});var D=function(e){var t=e.displayText,n=e.language,o=e.setLanguage,c=Object(a.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],h=d[1],p=k();return Object(a.useEffect)((function(){var e=1;t&&function t(){u("\u8fd9\u662f\u4e00\u573a\u524d\u6240\u672a\u6709\u7684\u2019\u6218\u75ab\u2018,\u4e5f\u662f\u4e00\u573a\u5168\u4eba\u7c7b\u7684\u6311\u6218,\u6ca1\u6709\u4efb\u4f55\u4eba\u53ef\u4ee5\u7f6e\u8eab\u4e8b\u5916.".substr(0,e++)),e!=="\u8fd9\u662f\u4e00\u573a\u524d\u6240\u672a\u6709\u7684\u2019\u6218\u75ab\u2018,\u4e5f\u662f\u4e00\u573a\u5168\u4eba\u7c7b\u7684\u6311\u6218,\u6ca1\u6709\u4efb\u4f55\u4eba\u53ef\u4ee5\u7f6e\u8eab\u4e8b\u5916.".length+1?requestAnimationFrame(t):h(!0)}()}),[t]),Object(a.useEffect)((function(){}),[n]),r.a.createElement("div",{className:p.root},t?r.a.createElement("p",null,n?l:"This is a unprecedented epidemic, a challenge for all mankind, nobody can escape."):r.a.createElement("div",{className:p.load},r.a.createElement(O.a,{size:90,thickness:6}),r.a.createElement("div",null,"\u6570\u636e\u8bf7\u6c42\u4e2d,\u8bf7\u7b49\u5f85...."),r.a.createElement("div",null,"Data loading.... Please wait....")),r.a.createElement("div",{className:p.hint,style:{opacity:f?1:0}},n?"\u4e0b\u6ed1\u4e86\u89e3\u66f4\u591a":"Slide to learn more","\u2b07\ufe0f"),r.a.createElement("div",{className:p.hint,style:{opacity:f?1:0}},n?"\u53f3\u4fa7\u6309\u94ae\u53ef\u4ee5\u5feb\u901f\u6362\u9875":"The right button can quickly change the page","\u27a1\ufe0f"),r.a.createElement(x,{setLanguage:o,language:n,showHint:f}))},N=n(203),S=n(119),H=Object(f.a)({root:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mapBg:{height:"70vh",width:"80vw",position:"relative",backgroundColor:"skyblue"}});var z=a.memo((function(e){var t=H(),n=e.language,r=e.areaData,o=e.world2D,c=a.useState(),i=Object(s.a)(c,2),l=i[0],u=i[1],m=a.useState(),d=Object(s.a)(m,2),f=d[0],h=d[1],p=a.useState(),g=Object(s.a)(p,2),v=g[0],b=g[1];return a.useEffect((function(){if(r&&o){var e=function(e,t){var n={};t.forEach((function(e){var t=e.countryName,a=e.countryEnglishName,r=e.currentConfirmedCount,o=e.confirmedCount,c=e.suspectedCount,i=e.curedCount,l=e.deadCount;"\u4e2d\u56fd"===t?n[t]?(n[t].currentConfirmedCount+=r,n[t].confirmedCount+=o,n[t].suspectedCount+=c,n[t].curedCount+=i,n[t].deadCount+=l):n[t]={countryName:0,countryEnglishName:a,currentConfirmedCount:0,confirmedCount:0,suspectedCount:0,curedCount:0,deadCount:0}:n[t]={countryName:t,countryEnglishName:a,currentConfirmedCount:r,confirmedCount:o,suspectedCount:c,curedCount:i,deadCount:l}}));var a={};return e.features.forEach((function(e){var t=e.properties.name;a[t]=e.properties;var r=n[t]||{};e.properties=Object(N.a)({},e.properties,{},r)})),e}(o,r.results),t=e.features.map((function(e){return e.properties}));h(e),u(t)}}),[r,o]),a.createElement("div",{className:t.root},a.createElement("h1",null,n?"\u4e16\u754c\u6982\u51b5(\u652f\u6301\u7f29\u653e\u548c\u62d6\u52a8)":"World Factbook (supports zooming and dragging)"," "),a.createElement("div",{className:t.mapBg},a.createElement(S.c,{map:{center:[110.19382669582967,50.258134],pitch:0,style:"blank",zoom:1},style:{position:"absolute",top:0,left:0,right:0,bottom:0}},v&&a.createElement(S.f,{lnglat:v.lnglat},n?v.feature.name:v.feature.countryEnglishName,a.createElement("ul",{style:{margin:0}},a.createElement("li",null,(n?"\u73b0\u6709\u786e\u8bca: ":"current confirm: ")+v.feature.currentConfirmedCount),a.createElement("li",null,(n?"\u7d2f\u8ba1\u786e\u8bca: ":"total confirm: ")+v.feature.confirmedCount),a.createElement("li",null,(n?"\u6cbb\u6108: ":"cure count: ")+v.feature.curedCount),a.createElement("li",null,(n?"\u6b7b\u4ea1: ":"dead count: ")+v.feature.deadCount))),l&&[a.createElement(S.e,{key:"1",options:{autoFit:!1},source:{data:f},scale:{values:{confirmedCount:{type:"quantile"}}},color:{values:"#bbb"},shape:{values:"fill"},style:{opacity:1}}),a.createElement(S.b,{key:"3",source:{data:f},size:{values:.6},color:{values:"#89f"},shape:{values:"line"},style:{opacity:1}}),a.createElement(S.d,{key:"2",options:{autoFit:!0},source:{data:l,parser:{type:"json",coordinates:"centroid"}},scale:{values:{confirmedCount:{type:"log"}}},color:{values:"#b10026"},shape:{values:"circle"},active:{option:{color:"#0c2c84"}},size:{field:"confirmedCount",values:[5,60]},animate:{enable:!0},style:{opacity:.6}},a.createElement(S.a,{type:"mousemove",handler:function(e){b({lnglat:e.lngLat,feature:e.feature})}}))])))})),I=n(44),M=n.n(I),T=n(65),B=n(252),P=n(117),L=n.n(P),W=Object(f.a)({root:{padding:"5px",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"space-around",justifyContent:"space-around",fontSize:"16px",overflow:"scroll",backgroundColor:"white","& p":{margin:0}}}),A=function(e){var t=e.language,n=e.countryData,o=W();return Object(a.useEffect)((function(){}),[n]),r.a.createElement("div",{className:o.root},n?Object.keys(n).map((function(e){switch(e){case"countryName":return t?r.a.createElement("p",{key:e},"\u56fd\u5bb6\u540d\u79f0: ".concat(n[e])):"";case"countryEnglishName":return t?"":r.a.createElement("p",{key:e},"country name: ".concat(n[e]));case"currentConfirmedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u5f53\u524d\u786e\u8bca\u6570: ":"current confirmed count: ").concat(n[e]));case"confirmedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u7d2f\u8ba1\u786e\u8bca\u6570: ":"confirmed count: ").concat(n[e]));case"suspectedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u7591\u4f3c\u6570: ":"suspected count: ").concat(n[e]));case"curedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u6cbb\u6108\u6570: ":"cured count: ").concat(n[e]));case"deadCount":return r.a.createElement("p",{key:e},"".concat(t?"\u6b7b\u4ea1\u6570: ":"dead count: ").concat(n[e]));case"updateTime":return r.a.createElement("p",{key:e},"".concat(t?"\u66f4\u65b0\u65f6\u95f4: ":"update time: ").concat(function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}(n[e]?n[e]:(new Date).getTime())));default:return""}})):r.a.createElement("p",{style:{textAlign:"center"}},t?"\u672a\u9009\u62e9\u56fd\u5bb6\u6216\u5f53\u524d\u56fd\u5bb6\u6570\u636e\u7f3a\u5931":"Please choose a country or data of country loss"))},Y=Object(f.a)((function(e){return{globe:{cursor:"move"},current:{position:"absolute",color:"white",fontFamily:"sans - serif",marginLeft:"4 %",marginTop:"4 %"},card:{position:"absolute",right:"0",bottom:"0",width:"300px",height:"300px"}}}));var F=function(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),o=n[0],c=n[1],i=e.areaData,m=e.language,d=e.tsv2json,f=e.worldData,h=Y();return Object(a.useEffect)((function(){var e=-20,t=40,n=0;var a,r,o,s,m,h,p,g,v,b,E,w,y,j=T.g("#current"),O=T.g("#globe"),C=O.node().getContext("2d"),x={type:"Sphere"},k=T.c().precision(.1),D=T.b(),N=T.d(k).context(C),S=T.f();function H(){C.fillStyle="#fff9c4",C.fillRect(0,0,s,m),z(x,"skyblue"),I(D,"skyblue"),z(h,"white"),I(p,"black"),p.features.forEach((function(e){var t,n;if(n=(n=g.find((function(t){return parseInt(t.id)===parseInt(e.id)})))?n.name:""){var a,r=i.results.find((function(e){return e.provinceEnglishName===n}));if(r=r?r.confirmedCount:"")t=(a=r)<500?M.a[50]:a<1e3?M.a[100]:a<5e3?M.a[200]:a<1e4?M.a[400]:a<2e4?M.a[600]:M.a[900],z(e,t)}})),y&&z(y,"#9ccc65")}function z(e,t){C.beginPath(),N(e),C.fillStyle=t,C.fill()}function I(e,t){C.beginPath(),N(e),C.strokeStyle=t,C.stroke()}function P(e){b=T.f(),(E=b-S)<e&&((w=k.rotate())[0]+=.006*E,k.rotate(w),H()),S=b}var W=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(f,d);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function A(e,t){for(var n,a,r=e.length,o=e[r-1],c=t[0],i=t[1],l=o[0],u=o[1],s=!1,m=0;m<r;++m)n=(o=e[m])[0],(a=o[1])>i!==u>i&&c<(l-n)*(i-a)/(u-a)+n&&(s=!s),l=n,u=a;return s}(w=k.rotate())[0]=t,w[1]=e,w[2]=n,k.rotate(w),i&&d&&f&&W((function(e,t){h=B.a(e,e.objects.land),p=B.a(e,e.objects.countries),g=t,s=document.documentElement.clientWidth,m=document.documentElement.clientHeight,O.attr("width",s).attr("height",m),k.scale(.9*Math.min(s,m)/2).translate([s/2,m/2]),H(),v=T.h(P)})),O.call(T.a().on("start",(function(){a=L.a.cartesian(k.invert(T.e(this))),r=k.rotate(),o=L()(r),v.stop()})).on("drag",(function(){var e=L.a.cartesian(k.rotate(r).invert(T.e(this))),t=L.a.multiply(o,L.a.delta(a,e)),n=L.a.rotation(t);k.rotate(n),H()})).on("end",(function(){var e;e=3e3,v.restart(P,e||0)}))).on("mousemove",(function(){var e=function(e){var t=k.invert(T.e(e));return p.features.find((function(e){return e.geometry.coordinates.find((function(e){return A(e,t)||e.find((function(e){return A(e,t)}))}))}))}(this);e?e!==y&&(y=e,H(),function(e){e=g.find((function(t){return t.id===e.id}));var t=i.results.filter((function(t){return t.countryEnglishName===(e&&e.name||"")&&t.provinceEnglishName===(e&&e.name||"")}));c(t[0])}(e)):y&&(j.text(""),y=void 0,H())}))}),[i,d,f]),r.a.createElement("div",{style:{height:"100vh",width:"100vw",position:"relative"}},r.a.createElement("h2",{id:"current",className:h.current}),r.a.createElement("canvas",{id:"globe",className:h.globe}),r.a.createElement("div",{className:h.card},r.a.createElement(A,{language:m,areaData:i,countryData:o})))},R=n(393),V=n(17),G=n(722),$=n(720),q=n(721),J=n(740);var X=function(e){var t=e.display3D,n=e.setDisplay3D;return r.a.createElement($.a,null,r.a.createElement(q.a,{control:r.a.createElement(K,{checked:t,onChange:function(){n(!t)},name:"display3D"}),label:"3D"}))},K=Object(V.a)((function(e){return Object(G.a)({root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}})}))((function(e){var t=e.classes,n=Object(R.a)(e,["classes"]);return r.a.createElement(J.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))})),U=n(133),Z=Object(f.a)({root:{height:"100vh",width:"100vw",position:"relative"},switchV:{position:"absolute",top:"2px",left:"10px",zIndex:5}});var Q=function(e){var t=e.language,n=e.areaData,o=e.world2D,c=e.tsv2json,i=e.worldData,l=Object(a.useState)(!1),u=Object(s.a)(l,2),m=u[0],d=u[1],f=Z();return Object(a.useEffect)((function(){Object(U.a)().reveal(".international",{duration:2e3,distance:"0px",reset:!0,rotate:{x:-100,z:-50}})}),[]),r.a.createElement("div",{className:f.root+" international"},r.a.createElement("div",{className:f.switchV},r.a.createElement(X,{display3D:m,setDisplay3D:d})),r.a.createElement("div",{style:{display:m?"none":"block",height:"100vh",width:"100vw"}},r.a.createElement(z,{world2D:o,areaData:n,language:t})),r.a.createElement("div",{style:{display:m?"block":"none",height:"100vh",width:"100vw"}},r.a.createElement(F,{areaData:n,worldData:i,tsv2json:c,language:t})))},_=n(724),ee=n(255),te=Object(f.a)({root:{padding:"5px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",fontSize:"20px"},hint:{textAlign:"center",fontSize:"30px"}}),ne=function(e){var t=e.language,n=e.chinaData,o=te(),c=["\u4f4d\u7f6e\u7f16\u53f7","\u6240\u5c5e\u5927\u6d32\u540d\u79f0","\u6240\u5c5e\u5927\u6d32\u82f1\u6587\u540d","\u56fd\u5bb6\u540d\u79f0","\u56fd\u5bb6\u82f1\u6587\u540d\u79f0","\u7701\u4efd\u540d\u79f0","\u7701\u4efd\u7b80\u79f0","\u7701\u4efd\u82f1\u6587\u540d\u79f0","\u5f53\u524d\u786e\u8bca\u4eba\u6570","\u7d2f\u8ba1\u786e\u8bca\u4eba\u6570","\u7591\u4f3c\u75c5\u4f8b\u6570","\u6cbb\u6108\u4eba\u6570","\u6b7b\u4ea1\u4eba\u6570","\u6240\u5305\u542b\u7684\u57ce\u5e02","\u8bc4\u8bba","\u66f4\u65b0\u65f6\u95f4"],i=["Position number","Name of continent","English Name of continent","Country name","Country English name","Province name","Province short name","Province English name","Current confirmed count","Confirmed count","Suspected count","Cured count","Dead count","Cities","Comments","Update time"],l=e.currentChoose;var u=Object(a.useState)(),m=Object(s.a)(u,2),d=m[0],f=m[1];return Object(a.useEffect)((function(){n&&f(n.filter((function(e){return e.provinceShortName===l})))}),[l,n]),Object(a.useEffect)((function(){}),[d]),r.a.createElement("div",{className:o.root},d?d[0]?Object.keys(d[0]).map((function(e,n){return"cities"!==e&&"cityName"!==e&&"locationId"!==e&&"comment"!==e&&"updateTime"!==e?r.a.createElement("span",{key:e},r.a.createElement("p",null,(t?c[n]:i[n])+" : "),r.a.createElement("p",null,d?d[0][e]:"")):"updateTime"===e?r.a.createElement("span",{key:e},r.a.createElement("p",null,(t?c[n]:i[n])+" : "),r.a.createElement("p",null,d?function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}(d[0][e]):"")):void 0})):r.a.createElement("p",{className:o.hint},t?"\u70b9\u51fb\u5404\u7701\u53ef\u4ee5\u67e5\u770b\u8be5\u7701\u7684\u8be6\u7ec6\u60c5\u51b5":"Click on the province to see the details of the province"):r.a.createElement("p",null,t?"\u70b9\u51fb\u5404\u7701\u53ef\u4ee5\u67e5\u770b\u8be5\u7701\u7684\u8be6\u7ec6\u60c5\u51b5":"Click on the province to see the details of the province"))},ae=n(373),re=n.n(ae),oe=function(e){var t,n=e.className,o=e.handleChange,c=e.setCurrentChoose,i=e.language,l=e.chinaData,u=e.chinaMapData,s=function(){t=re()("map",u.dimension.width,u.dimension.height);var e=l.map((function(e){return{"\u7701\u4efd":e.provinceShortName,province:e.provinceEnglishName,value:e.currentConfirmedCount}}));u.paths.forEach((function(n){var a=e.filter((function(e){return e.\u7701\u4efd===n.name})),r=function(e){return e<10?M.a[50]:e<50?M.a[200]:e<100?M.a[400]:e<200?M.a[600]:M.a[900]}(parseInt(a[0].value)),l=n.cmd.map((function(e){return e.method+" "+e.param.join(",")})).join(" "),u=t.path(l).attr({fill:r,cursor:"pointer"});u.click((function(){o(),setTimeout((function(){c(n.name),o()}),200)})),u.mouseover((function(){u.attr("fill","#fdff92")})),u.mouseout((function(){u.attr("fill",r)}));var s=u.getBBox(),m=t.text(s.x+s.width/2+(n.offset?n.offset.x:0),s.y+s.height/2+(n.offset?n.offset.y:0),i?a[0].\u7701\u4efd:a[0].province).attr("cursor","pointer");m.mouseover((function(){u.attr("fill","#fdff92")})),m.mouseout((function(){u.attr("fill",r)})),m.click((function(){o(),setTimeout((function(){c(n.name),o()}),200)}))}))};return Object(a.useEffect)((function(){return l&&u&&s(),function(){t&&t.remove()}}),[i,l,u]),r.a.createElement("div",{id:"map",className:n})},ce=Object(f.a)({root:{display:"flex",justifyContent:"flex-start",alignItems:"center"},label:{height:"15px",width:"30px",marginRight:"5px",fontSize:"5px"}});var ie=function(e){var t=ce(),n=e.color,a=e.value;return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.label,style:{backgroundColor:n}}),r.a.createElement("span",null,a))},le=Object(f.a)({root:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center"},labels:{marginTop:"20vh",marginRight:"5vw",border:"solid 2px black",borderRadius:"5px",padding:"2px",minWidth:"144px",backgroundColor:"#e1f5fe"},detail:{width:"30vw",height:"80vh",display:"flex",flexDirection:"column",justifyContent:"space-around",padding:"4px",transition:"all 1s linear","& span":{display:"flex",padding:"2px",justifyContent:"space-between",height:"5vh",alignItems:"center"}},h1:{width:"100vw",height:"10vh",color:"#1d2228",fontSize:"50px",textAlign:"center"}});var ue=function(e){var t=e.chinaData,n=e.language,o=e.chinaMapData,c=Object(a.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=[{color:M.a[50],value:"0-10"},{color:M.a[200],value:"10-49"},{color:M.a[400],value:"50-99"},{color:M.a[600],value:"100-200"},{color:M.a[900],value:"200+"}],d=le(),f=Object(a.useState)(!0),h=Object(s.a)(f,2),p=h[0],g=h[1];return Object(a.useEffect)((function(){Object(U.a)().reveal(".ChinaMap",{duration:2e3,distance:"0px",reset:!0,rotate:{x:20,z:20}})}),[]),r.a.createElement("div",{className:d.root+" ChinaMap"},r.a.createElement(oe,{chinaMapData:o,language:n,chinaData:t,handleChange:function(){return g((function(e){return!e}))},setCurrentChoose:u}),r.a.createElement("div",{className:d.labels},r.a.createElement("strong",null,n?"\u5f53\u524d\u786e\u8bca\u4eba\u6570":"current confirmed count"),m.map((function(e,t){return r.a.createElement(ie,{key:t,color:e.color,value:e.value})}))),r.a.createElement("div",{id:"detail",className:d.detail},r.a.createElement(_.a,{direction:"left",in:p,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(ee.a,{elevation:10},r.a.createElement(ne,{chinaData:t,language:n,currentChoose:l})))))},se=n(389),me=Object(f.a)((function(e){return{chart:{height:"80vh",width:"80vw",color:"#1d2228"}}}));var de=function(e){var t=e.language,n=e.chinaData,o=e.displayLabel,c=me();return Object(a.useEffect)((function(){if(n){var e=n.map((function(e){return{"\u7701\u4efd":e.provinceShortName,province:e.provinceEnglishName,value:e[o]>0?e[o]:0}}));e=e.sort((function(e,t){return-t.value+e.value}));var a=new se.a({container:"province",autoFit:!0});return a.data(e),a.scale({value:{max:1.2*e[e.length-1].value,min:0,alias:t?"\u5355\u4f4d/\u4eba":"people"}}),a.axis(t?"\u7701\u4efd":"province",{title:{offset:10,style:{fill:"#1d2228",fontSize:18,fontWeight:800}},tickLine:null}),a.axis("value",{label:null,title:{offset:5,style:{fill:"#1d2228",fontSize:18,fontWeight:800}}}),a.coordinate().transpose(),a.interval().position((t?"\u7701\u4efd":"province")+"*value").size(18).label("value",{style:{fill:"#1d2228",fontWeight:800},offset:10}),a.interaction("element-active"),setTimeout((function(){return a.render()}),0),function(){a.destroy()}}}),[o,t,n]),r.a.createElement("div",{id:"province",className:c.chart})},fe=n(741),he=n(729),pe=n(725),ge=n(739),ve=Object(f.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,border:"1px solid black",borderRadius:"3px",padding:"8px"}}}));var be=function(e){var t=e.displayLabel,n=e.setDisplayLabel,a=e.language,o=ve(),c=r.a.useState(!1),i=Object(s.a)(c,2),l=i[0],u=i[1];return r.a.createElement(pe.a,{className:o.formControl},r.a.createElement(fe.a,{id:"demo-controlled-open-select-label"},a?"\u663e\u793a":"display"),r.a.createElement(ge.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:l,onClose:function(){u(!1)},onOpen:function(){u(!0)},value:t,onChange:function(e){n(e.target.value)}},r.a.createElement(he.a,{value:"currentConfirmedCount"},a?"\u5f53\u524d\u786e\u8bca\u6570":"current confirmed count"),r.a.createElement(he.a,{value:"confirmedCount"},a?"\u7d2f\u8ba1\u786e\u8bca\u6570":"confirm count"),r.a.createElement(he.a,{value:"suspectedCount"},a?"\u7591\u4f3c\u75c5\u4f8b\u6570":"suspected count"),r.a.createElement(he.a,{value:"curedCount"},a?"\u6cbb\u6108\u6570":"cured count"),r.a.createElement(he.a,{value:"deadCount"},a?"\u6b7b\u4ea1\u6570":"dead count")))},Ee=Object(f.a)((function(e){return{root:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},chooseInput:{display:"flex",justifyContent:"space-between",alignItems:"center"}}}));var we=function(e){var t=e.language,n=e.chinaData,o=Object(a.useState)("confirmedCount"),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Ee();return Object(a.useEffect)((function(){Object(U.a)().reveal(".ProvinceMap",{duration:2e3,rotate:{x:-50,z:-20},reset:!0})}),[t,n,i]),r.a.createElement("div",{className:u.root+" ProvinceMap"},r.a.createElement("h1",null,t?"\u7701\u4efd\u6982\u89c8":"Provinces Overview"),r.a.createElement("div",{className:u.chooseInput},r.a.createElement(be,{displayLabel:i,language:t,setDisplayLabel:l})),r.a.createElement(de,{displayLabel:i,language:t,chinaData:n}))},ye=n(728),je=n(672),Oe=n(734),Ce=n(733),xe=n(743),ke=n(251),De=n.n(ke),Ne=n(735),Se=n(732),He=n(723),ze=n(205),Ie=n(730),Me=n(731),Te=n(380),Be=n.n(Te),Pe="http://47.103.207.168:8080",Le=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe+"/News").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=Object(f.a)((function(e){return{root:{},media:{height:0,paddingTop:"40.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ze.a[500]},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var Ae=function(e){var t=e.id,n=e.setOpen,o=We(),c=Object(a.useState)(),i=Object(s.a)(c,2),m=i[0],d=i[1],f=Object(a.useState)(!0),h=Object(s.a)(f,2),g=h[0],v=h[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:n=e.sent,d([n.results[t]]),setTimeout((function(){return v(!g)}),0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:o.root},r.a.createElement(Ie.a,{position:"static"},r.a.createElement(Me.a,null,r.a.createElement(He.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"ArrowBack",onClick:function(){n(!1)}},r.a.createElement(Be.a,null)),r.a.createElement(w.a,{variant:"h6",className:o.title},"News"))),g?r.a.createElement("div",{style:{display:g?"flex":"none",justifyContent:"center"}},r.a.createElement(O.a,{size:40,thickness:6,color:"secondary"})):m&&m.map((function(e,t){return r.a.createElement(p.a,{className:o.root,key:t},r.a.createElement(Se.a,{avatar:r.a.createElement(xe.a,{"aria-label":"recipe",className:o.avatar},"N"),title:e.title,subheader:e.infoSource}),r.a.createElement(b.a,null,r.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},e.summary)))})))},Ye=Object(f.a)({root:{width:"100vw",height:"100vh",color:"white",position:"relative",justifyContent:"center",alignItems:"center"},h1:{width:"100vw",height:"10vh",color:"#1d2228",fontSize:"35px",textAlign:"center"},des:{textAlign:"left"}});function Fe(e){var t=e.language,n=e.newsData,o=Ye(),c=Object(a.useState)(),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)(),d=Object(s.a)(m,2),f=d[0],h=d[1],p=r.a.useState(!1),g=Object(s.a)(p,2),v=g[0],b=g[1],E=function(e){return function(){h(e),b(!0)}};return Object(a.useEffect)((function(){n&&u(n.map((function(e,n){return!t&&n<5||t&&n>4?r.a.createElement(ye.a,{component:"nav","aria-label":"main mailbox folders",key:n},r.a.createElement(je.a,null,r.a.createElement(De.a,{onClick:E(n)},r.a.createElement(Ce.a,null,r.a.createElement(xe.a,null)),r.a.createElement(Oe.a,{classes:{secondary:o.des},primary:e.title,secondary:e.infoSource})))):null})))}),[n,t]),r.a.createElement("div",{className:o.root},r.a.createElement("h1",{className:o.h1},t?"\u65b0\u95fb\u6982\u89c8":"News Overview"),r.a.createElement("div",null,l),r.a.createElement(Ne.a,{open:v,onClose:function(){b(!1)},"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(Ae,{id:f,setOpen:b})))}var Re=n(387),Ve=n.n(Re),Ge=n(385),$e=n.n(Ge),qe=n(386),Je=n.n(qe),Xe=n(384),Ke=n.n(Xe),Ue=n(383),Ze=n.n(Ue),Qe=n(388),_e=n.n(Qe),et=n(737),tt=n(744),nt=n(736),at=n(738),rt=Object(f.a)((function(e){return Object(G.a)({root:{position:"fixed",bottom:"40%",right:e.spacing(2),zIndex:999},grouped:{border:"none",margin:0}})}));function ot(e){var t=e.language,n=rt(),o=Object(a.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),d=m[0],f=m[1],h=Object(a.useState)(!1),p=Object(s.a)(h,2),g=p[0],v=p[1],b=Object(a.useState)(!1),E=Object(s.a)(b,2),w=E[0],y=E[1],j=Object(a.useState)(!1),O=Object(s.a)(j,2),C=O[0],x=O[1],k=Object(a.useState)("home"),D=Object(s.a)(k,2),N=D[0],S=D[1],H=Object(a.useState)(0),z=Object(s.a)(H,2),I=z[0],M=z[1];return Object(a.useEffect)((function(){window.addEventListener("scroll",(function(){M(window.scrollY),window.scrollY>.5*window.innerHeight&&window.scrollY<1.5*window.innerHeight&&l(!0),window.scrollY>1.5*window.innerHeight&&window.scrollY<2.5*window.innerHeight&&f(!0),window.scrollY>2.5*window.innerHeight&&window.scrollY<3.5*window.innerHeight&&v(!0),window.scrollY>3.5*window.innerHeight&&window.scrollY<4.5*window.innerHeight&&y(!0),window.scrollY>4.5*window.innerHeight&&window.scrollY<5.5*window.innerHeight&&x(!0)}))}),[]),r.a.createElement("div",{className:n.root},r.a.createElement(tt.a,{classes:{grouped:n.grouped},value:N,exclusive:!0,onChange:function(e,t){S(t)},style:{backgroundColor:I<.5*window.innerHeight?"white":"transparent",display:"flex",flexDirection:"column"}},r.a.createElement(nt.a,{enterDelay:1,title:t?"\u4e3b\u9875":"Homepage",placement:"left"},r.a.createElement(et.a,{value:"home",style:{color:I<.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement(Ze.a,null))),r.a.createElement(nt.a,{enterDelay:1,title:t?"\u4e16\u754c\u6982\u51b5":"World",placement:"left"},r.a.createElement(et.a,{value:"earth",style:{color:I>.5*window.innerHeight&&I<1.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:window.innerHeight,behavior:"smooth"})}},r.a.createElement(at.a,{color:"secondary",invisible:i,badgeContent:" ",variant:"dot"},r.a.createElement(Ke.a,null)))),r.a.createElement(nt.a,{enterDelay:1,title:t?"\u4e2d\u56fd\u6982\u51b5":"China",placement:"left"},r.a.createElement(et.a,{value:"China",style:{color:I>1.5*window.innerHeight&&I<2.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:2*window.innerHeight,behavior:"smooth"})}},r.a.createElement(at.a,{color:"secondary",invisible:d,badgeContent:" ",variant:"dot"},r.a.createElement($e.a,null)))),r.a.createElement(nt.a,{enterDelay:1,title:t?"\u4e2d\u56fd\u5404\u7701":"Province",placement:"left"},r.a.createElement(et.a,{value:"province",style:{color:I>2.5*window.innerHeight&&I<3.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:3*window.innerHeight,behavior:"smooth"})}},r.a.createElement(at.a,{color:"secondary",invisible:g,badgeContent:" ",variant:"dot"},r.a.createElement(Je.a,null)))),r.a.createElement(nt.a,{enterDelay:1,title:t?"\u4e2d\u56fd\u57ce\u5e02/\u533a":"City",placement:"left"},r.a.createElement(et.a,{value:"city",style:{color:I>3.5*window.innerHeight&&I<4.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:4*window.innerHeight,behavior:"smooth"})}},r.a.createElement(at.a,{color:"secondary",invisible:w,badgeContent:" ",variant:"dot"},r.a.createElement(Ve.a,null)))),r.a.createElement(nt.a,{enterDelay:1,title:t?"\u65b0\u95fb":"News",placement:"left"},r.a.createElement(et.a,{value:"News",style:{color:I>4.5*window.innerHeight&&I<5.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:5*window.innerHeight,behavior:"smooth"})}},r.a.createElement(at.a,{color:"secondary",invisible:C,badgeContent:" ",variant:"dot"},r.a.createElement(_e.a,null))))))}var ct=n(180),it=n(181),lt=n(204),ut=n(202),st=function(e){Object(lt.a)(n,e);var t=Object(ut.a)(n);function n(e){var a;return Object(ct.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(it.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{style:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("h1",null,"Something went wrong. Please refresh the page.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),mt=Object(f.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),dt=function(){var e=mt();return r.a.createElement("div",{className:e.root},r.a.createElement(O.a,null))},ft=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe+"/Hel").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe+"/2Dearth").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe+"/worldData").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe+"/tsv2json").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Pe+"/chinamapData").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=r.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,760))})),Et=Object(f.a)((function(e){return{root:{transition:"all 1s linear"},gitBut:{position:"absolute",top:"10px",left:"10px"},backdrop:{zIndex:e.zIndex.drawer+2},bdButton:{position:"fixed",right:"10px",top:"10px"}}})),wt="2"!=localStorage.getItem("language");var yt=function(){var e=Et(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(Boolean(wt)),f=Object(s.a)(i,2),p=f[0],g=f[1],v=Object(a.useState)(!1),b=Object(s.a)(v,2),E=b[0],w=b[1],y=Object(a.useState)(),O=Object(s.a)(y,2),C=O[0],x=O[1],k=Object(a.useState)(),N=Object(s.a)(k,2),S=N[0],H=N[1],z=Object(a.useState)(),I=Object(s.a)(z,2),M=I[0],T=I[1],B=Object(a.useState)([]),P=Object(s.a)(B,2),L=P[0],W=P[1],A=Object(a.useState)(),Y=Object(s.a)(A,2),F=Y[0],R=Y[1],V=Object(a.useState)(),G=Object(s.a)(V,2),$=G[0],q=G[1],J=Object(a.useState)(),X=Object(s.a)(J,2),K=X[0],U=X[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft();case 2:return t=e.sent,x(t),n=(n=t.results.filter((function(e){return"\u4e2d\u56fd"===e.countryName&&"\u4e2d\u56fd"!==e.provinceShortName}))).filter((function(e){return void 0!==e})),H(n),t=(t=t.results.filter((function(e){return"\u4e2d\u56fd"===e.countryName&&"\u4e2d\u56fd"!==e.provinceShortName}))).filter((function(e){return void 0!==e})),H(t),e.next=12,ht();case 12:return t=e.sent,T(t),e.next=16,pt();case 16:return t=e.sent,R(t),e.next=20,gt();case 20:return t=e.sent,q(t.results),e.next=24,vt();case 24:return t=e.sent,U(t),e.next=28,Le();case 28:t=e.sent,W(t.results),setTimeout((function(){return w(!0)}),0);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.gitBut},r.a.createElement(h.a,{href:"https://github.com/HCI-AP-team/AP-coursework-front-end","data-color-scheme":"no-preference: light; light: light; dark: dark;","data-size":"large","data-show-count":!0,"aria-label":"Star HCI-AP-team/AP-coursework-front-end on GitHub"},"Star")),r.a.createElement(ot,{language:p}),r.a.createElement(st,null,r.a.createElement(D,{setLanguage:g,language:p,displayText:E})),r.a.createElement(st,null,r.a.createElement(Q,{language:p,tsv2json:$,worldData:F,world2D:M,areaData:C})),r.a.createElement(st,null,r.a.createElement(ue,{chinaMapData:K,language:p,chinaData:S})),r.a.createElement(st,null,r.a.createElement(we,{language:p,chinaData:S})),r.a.createElement(st,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(dt,null)},r.a.createElement(bt,{language:p,chinaData:S}))),r.a.createElement(st,null,r.a.createElement(Fe,{newsData:L,language:p})),r.a.createElement(m.a,{variant:"outlined",color:"primary",onClick:function(){c(!o)},className:e.bdButton},p?"\u5173\u4e8e\u6211\u4eec":"about us"),r.a.createElement(d.a,{className:e.backdrop,open:o,onClick:function(){c(!1)}},r.a.createElement(j,{language:p})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[437,1,2]]]);
//# sourceMappingURL=main.e6672245.chunk.js.map