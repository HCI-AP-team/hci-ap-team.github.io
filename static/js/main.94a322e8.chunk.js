(this["webpackJsonpfont-end"]=this["webpackJsonpfont-end"]||[]).push([[0],{406:function(e,t,n){e.exports=n(611)},411:function(e,t,n){},505:function(e,t){},611:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(29),c=n.n(o),i=(n(411),n(40)),l=n.n(i),u=n(56),s=n(26),m=n(617),d=n(696),f=n(669),h=n(321),g=n(671),p=n(672),v=n(675),b=n(674),w=n(673),E=n(616),y=Object(f.a)({root:{width:"100vw",height:"100vh"},title:{fontSize:"35px",fontWeight:"bold",textAlign:"center"},root1:{minWidth:200,maxWidth:345},media:{height:140},cards:{display:"flex",width:"100%",justifyContent:"space-around",margin:"20vh auto"}}),j=function(e){var t=e.language,n=y(),a=[{img:"/lkc.jpg",name:"\u674e\u5eb7\u8bda",enName:"Kangcheng Li",des:"\u6570\u636e\u5e93\u7ba1\u7406\u5458",enDes:"database manager",link:"https://github.com/lkczn"},{img:"/gs.jpg",name:"\u90ed\u5e05",enName:"Shuai Guo",des:"\u8fd0\u7ef4\u5de5\u7a0b\u5e08",enDes:"packege engineer",link:"https://github.com/loveisever"},{img:"/gsw.jpg",name:"\u9ad8\u58eb\u73ae",enName:"Shiwei Gao",des:"\u540e\u7aef\u5de5\u7a0b\u5e08",enDes:"back-end engineer",link:"https://github.com/shituweian"},{img:"/xww.jpg",name:"\u8096\u6587\u4f1f",enName:"Wenwei Xiao",des:"\u524d\u7aef\u5de5\u7a0b\u5e08",enDes:"front-end engineer",link:"https://github.com/xiao-wenwei"},{img:"/pzz.jpg",name:"\u5f6d\u594f\u7ae0",enName:"Zouzhang Peng",des:"\u524d\u7aef\u5de5\u7a0b\u5e08",enDes:"front-end engineer",link:"https://github.com/GiorgioPeng"}].map((function(e){return r.a.createElement(g.a,{className:n.root1,key:e.name},r.a.createElement(p.a,null,r.a.createElement(w.a,{className:n.media,image:""+e.img,title:"Contemplative Reptile"}),r.a.createElement(b.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(E.a,{variant:"body2",color:"textSecondary",component:"p"},e.des)):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.enName),r.a.createElement(E.a,{variant:"body2",color:"textSecondary",component:"p"},e.enDes)))),r.a.createElement(v.a,null,r.a.createElement(m.a,{size:"large",variant:"contained",color:"primary"},r.a.createElement("a",{href:e.link},t?"\u6211\u7684github":"My github"))))}));return r.a.createElement("div",{className:n.root},r.a.createElement("p",{className:n.title},t?"\u6b22\u8fce\u6765\u5230\u6211\u4eec\u7684\u65b0\u51a0\u80ba\u708e\u53ef\u89c6\u5316\u7cfb\u7edf":"Welcome to our covid-19 visualization system"),r.a.createElement("div",{className:n.cards},a))},C=n(677),x=n(676);var k=function(e){var t=e.language,n=e.setLanguage,a=e.showHint;return r.a.createElement("div",{style:{opacity:a?1:0}},r.a.createElement(x.a,{color:"primary"},r.a.createElement(m.a,{variant:t?"contained":"outlined",onClick:function(){return n(!0)}},"\u4e2d\u6587"),r.a.createElement(m.a,{variant:t?"outlined":"contained",onClick:function(){return n(!1)}},"English")))},O=Object(f.a)({root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"black","& p":{fontSize:"45px",color:"white",textAlign:"center",width:"70vw"}},load:{height:"60vh",width:"60vw",margin:"20vh auto",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},hint:{textAlign:"center",color:"white",transition:"1s linear all",marginBottom:"3vh"}});var D=function(e){var t=e.displayText,n=e.language,o=e.setLanguage,c=Object(a.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],h=d[1],g=O();return Object(a.useEffect)((function(){var e=1;t&&function t(){u("\u8fd9\u662f\u4e00\u573a\u524d\u6240\u672a\u6709\u7684\u2019\u6218\u75ab\u2018,\u4e5f\u662f\u4e00\u573a\u5168\u4eba\u7c7b\u7684\u6311\u6218,\u6ca1\u6709\u4efb\u4f55\u4eba\u53ef\u4ee5\u7f6e\u8eab\u4e8b\u5916.".substr(0,e++)),e!=="\u8fd9\u662f\u4e00\u573a\u524d\u6240\u672a\u6709\u7684\u2019\u6218\u75ab\u2018,\u4e5f\u662f\u4e00\u573a\u5168\u4eba\u7c7b\u7684\u6311\u6218,\u6ca1\u6709\u4efb\u4f55\u4eba\u53ef\u4ee5\u7f6e\u8eab\u4e8b\u5916.".length+1?requestAnimationFrame(t):h(!0)}()}),[t]),Object(a.useEffect)((function(){}),[n]),r.a.createElement("div",{className:g.root},t?r.a.createElement("p",null,n?l:"This is a unprecedented epidemic, a challenge for all mankind, nobody can escape."):r.a.createElement("div",{className:g.load},r.a.createElement(C.a,{size:90,thickness:6}),r.a.createElement("div",null,"\u6570\u636e\u8bf7\u6c42\u4e2d,\u8bf7\u7b49\u5f85...."),r.a.createElement("div",null,"Data loading.... Please wait....")),r.a.createElement("div",{className:g.hint,style:{opacity:f?1:0}},n?"\u4e0b\u6ed1\u4e86\u89e3\u66f4\u591a":"Slide to learn more","\u2b07\ufe0f"),r.a.createElement("div",{className:g.hint,style:{opacity:f?1:0}},n?"\u53f3\u4fa7\u6309\u94ae\u53ef\u4ee5\u5feb\u901f\u6362\u9875":"The right button can quickly change the page","\u27a1\ufe0f"),r.a.createElement(k,{setLanguage:o,language:n,showHint:f}))},N=n(678),S=n(331),H=n.n(S),z=n(329),I=n.n(z),M=n(330),T=n.n(M),P=n(328),B=n.n(P),L=n(327),W=n.n(L),Y=n(332),A=n.n(Y),F=n(680),R=n(692),V=n(679),$=n(681),G=Object(f.a)((function(e){return Object(N.a)({root:{position:"fixed",bottom:"40%",right:e.spacing(2),zIndex:999},grouped:{border:"none",margin:0}})}));function q(e){var t=e.language,n=G(),o=Object(a.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),d=m[0],f=m[1],h=Object(a.useState)(!1),g=Object(s.a)(h,2),p=g[0],v=g[1],b=Object(a.useState)(!1),w=Object(s.a)(b,2),E=w[0],y=w[1],j=Object(a.useState)(!1),C=Object(s.a)(j,2),x=C[0],k=C[1],O=Object(a.useState)("home"),D=Object(s.a)(O,2),N=D[0],S=D[1],z=Object(a.useState)(0),M=Object(s.a)(z,2),P=M[0],L=M[1];return Object(a.useEffect)((function(){window.addEventListener("scroll",(function(){L(window.scrollY),window.scrollY>.5*window.innerHeight&&window.scrollY<1.5*window.innerHeight&&l(!0),window.scrollY>1.5*window.innerHeight&&window.scrollY<2.5*window.innerHeight&&f(!0),window.scrollY>2.5*window.innerHeight&&window.scrollY<3.5*window.innerHeight&&v(!0),window.scrollY>3.5*window.innerHeight&&window.scrollY<4.5*window.innerHeight&&y(!0),window.scrollY>4.5*window.innerHeight&&window.scrollY<5.5*window.innerHeight&&k(!0)}))}),[]),r.a.createElement("div",{className:n.root},r.a.createElement(R.a,{classes:{grouped:n.grouped},value:N,exclusive:!0,onChange:function(e,t){S(t)},style:{backgroundColor:P<.5*window.innerHeight?"white":"transparent",display:"flex",flexDirection:"column"}},r.a.createElement(V.a,{enterDelay:1,title:t?"\u4e3b\u9875":"Homepage",placement:"left"},r.a.createElement(F.a,{value:"home",style:{color:P<.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement(W.a,null))),r.a.createElement(V.a,{enterDelay:1,title:t?"\u4e16\u754c\u6982\u51b5":"World",placement:"left"},r.a.createElement(F.a,{value:"earth",style:{color:P>.5*window.innerHeight&&P<1.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:window.innerHeight,behavior:"smooth"})}},r.a.createElement($.a,{color:"secondary",invisible:i,badgeContent:" ",variant:"dot"},r.a.createElement(B.a,null)))),r.a.createElement(V.a,{enterDelay:1,title:t?"\u4e2d\u56fd\u6982\u51b5":"China",placement:"left"},r.a.createElement(F.a,{value:"China",style:{color:P>1.5*window.innerHeight&&P<2.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:2*window.innerHeight,behavior:"smooth"})}},r.a.createElement($.a,{color:"secondary",invisible:d,badgeContent:" ",variant:"dot"},r.a.createElement(I.a,null)))),r.a.createElement(V.a,{enterDelay:1,title:t?"\u4e2d\u56fd\u5404\u7701":"Province",placement:"left"},r.a.createElement(F.a,{value:"province",style:{color:P>2.5*window.innerHeight&&P<3.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:3*window.innerHeight,behavior:"smooth"})}},r.a.createElement($.a,{color:"secondary",invisible:p,badgeContent:" ",variant:"dot"},r.a.createElement(T.a,null)))),r.a.createElement(V.a,{enterDelay:1,title:t?"\u4e2d\u56fd\u57ce\u5e02/\u533a":"City",placement:"left"},r.a.createElement(F.a,{value:"city",style:{color:P>3.5*window.innerHeight&&P<4.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:4*window.innerHeight,behavior:"smooth"})}},r.a.createElement($.a,{color:"secondary",invisible:E,badgeContent:" ",variant:"dot"},r.a.createElement(H.a,null)))),r.a.createElement(V.a,{enterDelay:1,title:t?"\u65b0\u95fb":"News",placement:"left"},r.a.createElement(F.a,{value:"News",style:{color:P>4.5*window.innerHeight&&P<5.5*window.innerHeight?"black":"rgba(0, 0, 0, 0.38"},onClick:function(){window.scrollTo({top:5*window.innerHeight,behavior:"smooth"})}},r.a.createElement($.a,{color:"secondary",invisible:x,badgeContent:" ",variant:"dot"},r.a.createElement(A.a,null))))))}var J=n(186),X=n(111),K=Object(f.a)({root:{backgroundColor:"#fff9c4",height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mapBg:{height:"90vh",width:"90vw",position:"relative",backgroundColor:"skyblue"}});var U=a.memo((function(e){var t=K(),n=e.language,r=e.areaData,o=e.world2D,c=a.useState(),i=Object(s.a)(c,2),l=i[0],u=i[1],m=a.useState(),d=Object(s.a)(m,2),f=d[0],h=d[1],g=a.useState(),p=Object(s.a)(g,2),v=p[0],b=p[1];return a.useEffect((function(){if(r&&o){var e=function(e,t){var n={};t.forEach((function(e){var t=e.countryName,a=e.countryEnglishName,r=e.currentConfirmedCount,o=e.confirmedCount,c=e.suspectedCount,i=e.curedCount,l=e.deadCount;"\u4e2d\u56fd"===t?n[t]?(n[t].currentConfirmedCount+=r,n[t].confirmedCount+=o,n[t].suspectedCount+=c,n[t].curedCount+=i,n[t].deadCount+=l):n[t]={countryName:0,countryEnglishName:a,currentConfirmedCount:0,confirmedCount:0,suspectedCount:0,curedCount:0,deadCount:0}:n[t]={countryName:t,countryEnglishName:a,currentConfirmedCount:r,confirmedCount:o,suspectedCount:c,curedCount:i,deadCount:l}}));var a={};return e.features.forEach((function(e){var t=e.properties.name;a[t]=e.properties;var r=n[t]||{};e.properties=Object(J.a)({},e.properties,{},r)})),e}(o,r.results),t=e.features.map((function(e){return e.properties}));h(e),u(t)}}),[r,o]),a.createElement("div",{className:t.root},a.createElement("strong",null,n?"\u4e16\u754c\u6982\u51b5(\u652f\u6301\u7f29\u653e\u548c\u62d6\u52a8)":"World factbook (supports zooming and dragging)"),a.createElement("div",{className:t.mapBg},a.createElement(X.c,{map:{center:[110.19382669582967,50.258134],pitch:0,style:"blank",zoom:1},style:{position:"absolute",top:0,left:0,right:0,bottom:0}},v&&a.createElement(X.f,{lnglat:v.lnglat},n?v.feature.name:v.feature.countryEnglishName,a.createElement("ul",{style:{margin:0}},a.createElement("li",null,(n?"\u73b0\u6709\u786e\u8bca: ":"current confirm: ")+v.feature.currentConfirmedCount),a.createElement("li",null,(n?"\u7d2f\u8ba1\u786e\u8bca: ":"total confirm: ")+v.feature.confirmedCount),a.createElement("li",null,(n?"\u6cbb\u6108: ":"cure count: ")+v.feature.curedCount),a.createElement("li",null,(n?"\u6b7b\u4ea1: ":"dead count: ")+v.feature.deadCount))),l&&[a.createElement(X.e,{key:"1",options:{autoFit:!1},source:{data:f},scale:{values:{confirmedCount:{type:"quantile"}}},color:{values:"#bbb"},shape:{values:"fill"},style:{opacity:1}}),a.createElement(X.b,{key:"3",source:{data:f},size:{values:.6},color:{values:"#89f"},shape:{values:"line"},style:{opacity:1}}),a.createElement(X.d,{key:"2",options:{autoFit:!0},source:{data:l,parser:{type:"json",coordinates:"centroid"}},scale:{values:{confirmedCount:{type:"log"}}},color:{values:"#b10026"},shape:{values:"circle"},active:{option:{color:"#0c2c84"}},size:{field:"confirmedCount",values:[5,60]},animate:{enable:!0},style:{opacity:.6}},a.createElement(X.a,{type:"mousemove",handler:function(e){b({lnglat:e.lngLat,feature:e.feature})}}))])))})),Z=n(41),Q=n.n(Z),_=n(64),ee=n(229),te=n(109),ne=n.n(te),ae=Object(f.a)({root:{padding:"5px",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"space-around",justifyContent:"space-around",fontSize:"16px",overflow:"scroll",backgroundColor:"white","& p":{margin:0}}}),re=function(e){var t=e.language,n=e.countryData,o=ae();return Object(a.useEffect)((function(){}),[n]),r.a.createElement("div",{className:o.root},n?Object.keys(n).map((function(e){switch(e){case"countryName":return t?r.a.createElement("p",{key:e},"\u56fd\u5bb6\u540d\u79f0: ".concat(n[e])):"";case"countryEnglishName":return t?"":r.a.createElement("p",{key:e},"country name: ".concat(n[e]));case"currentConfirmedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u5f53\u524d\u786e\u8bca\u6570: ":"current confirmed count: ").concat(n[e]));case"confirmedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u7d2f\u8ba1\u786e\u8bca\u6570: ":"confirmed count: ").concat(n[e]));case"suspectedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u7591\u4f3c\u6570: ":"suspected count: ").concat(n[e]));case"curedCount":return r.a.createElement("p",{key:e},"".concat(t?"\u6cbb\u6108\u6570: ":"cured count: ").concat(n[e]));case"deadCount":return r.a.createElement("p",{key:e},"".concat(t?"\u6b7b\u4ea1\u6570: ":"dead count: ").concat(n[e]));case"updateTime":return r.a.createElement("p",{key:e},"".concat(t?"\u66f4\u65b0\u65f6\u95f4: ":"update time: ").concat(function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}(n[e]?n[e]:(new Date).getTime())));default:return""}})):r.a.createElement("p",{style:{textAlign:"center"}},t?"\u6570\u636e\u7f3a\u5931":"data loss"))},oe=Object(f.a)((function(e){return{globe:{cursor:"move"},current:{position:"absolute",color:"white",fontFamily:"sans - serif",marginLeft:"4 %",marginTop:"4 %"},card:{position:"absolute",right:"0",bottom:"0",width:"300px",height:"300px"}}}));var ce=function(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),o=n[0],c=n[1],i=e.areaData,m=e.language,d=e.tsv2json,f=e.worldData,h=oe();return Object(a.useEffect)((function(){var e=-20,t=40,n=0;var a,r,o,s,m,h,g,p,v,b,w,E,y,j=_.g("#current"),C=_.g("#globe"),x=C.node().getContext("2d"),k={type:"Sphere"},O=_.c().precision(.1),D=_.b(),N=_.d(O).context(x),S=_.f();function H(){x.fillStyle="#fff9c4",x.fillRect(0,0,s,m),z(k,"skyblue"),I(D,"skyblue"),z(h,"white"),I(g,"black"),g.features.forEach((function(e){var t,n;if(n=(n=p.find((function(t){return parseInt(t.id)===parseInt(e.id)})))?n.name:""){var a,r=i.results.find((function(e){return e.provinceEnglishName===n}));if(r=r?r.confirmedCount:"")t=(a=r)<500?Q.a[50]:a<1e3?Q.a[100]:a<5e3?Q.a[200]:a<1e4?Q.a[400]:a<2e4?Q.a[600]:Q.a[900],z(e,t)}})),y&&z(y,"#9ccc65")}function z(e,t){x.beginPath(),N(e),x.fillStyle=t,x.fill()}function I(e,t){x.beginPath(),N(e),x.strokeStyle=t,x.stroke()}function M(e){b=_.f(),(w=b-S)<e&&((E=O.rotate())[0]+=.006*w,O.rotate(E),H()),S=b}var T=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(f,d);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(e,t){for(var n,a,r=e.length,o=e[r-1],c=t[0],i=t[1],l=o[0],u=o[1],s=!1,m=0;m<r;++m)n=(o=e[m])[0],(a=o[1])>i!==u>i&&c<(l-n)*(i-a)/(u-a)+n&&(s=!s),l=n,u=a;return s}(E=O.rotate())[0]=t,E[1]=e,E[2]=n,O.rotate(E),i&&d&&f&&T((function(e,t){h=ee.a(e,e.objects.land),g=ee.a(e,e.objects.countries),p=t,s=document.documentElement.clientWidth,m=document.documentElement.clientHeight,C.attr("width",s).attr("height",m),O.scale(.9*Math.min(s,m)/2).translate([s/2,m/2]),H(),v=_.h(M)})),C.call(_.a().on("start",(function(){a=ne.a.cartesian(O.invert(_.e(this))),r=O.rotate(),o=ne()(r),v.stop()})).on("drag",(function(){var e=ne.a.cartesian(O.rotate(r).invert(_.e(this))),t=ne.a.multiply(o,ne.a.delta(a,e)),n=ne.a.rotation(t);O.rotate(n),H()})).on("end",(function(){var e;e=3e3,v.restart(M,e||0)}))).on("mousemove",(function(){var e=function(e){var t=O.invert(_.e(e));return g.features.find((function(e){return e.geometry.coordinates.find((function(e){return P(e,t)||e.find((function(e){return P(e,t)}))}))}))}(this);e?e!==y&&(y=e,H(),function(e){e=p.find((function(t){return t.id===e.id}));var t=i.results.filter((function(t){return t.countryEnglishName===(e&&e.name||"")&&t.provinceEnglishName===(e&&e.name||"")}));c(t[0])}(e)):y&&(j.text(""),y=void 0,H())}))}),[i,d,f]),r.a.createElement("div",{style:{height:"100vh",width:"100vw",position:"relative"}},r.a.createElement("h2",{id:"current",className:h.current}),r.a.createElement("canvas",{id:"globe",className:h.globe}),r.a.createElement("div",{className:h.card},r.a.createElement(re,{language:m,areaData:i,countryData:o})))},ie=n(366),le=n(20),ue=n(682),se=n(683),me=n(693);var de=function(e){var t=e.display3D,n=e.setDisplay3D;return r.a.createElement(ue.a,null,r.a.createElement(se.a,{control:r.a.createElement(fe,{checked:t,onChange:function(){n(!t)},name:"display3D"}),label:"3D"}))},fe=Object(le.a)((function(e){return Object(N.a)({root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}})}))((function(e){var t=e.classes,n=Object(ie.a)(e,["classes"]);return r.a.createElement(me.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))})),he=n(126),ge=Object(f.a)({root:{height:"100vh",width:"100vw",position:"relative"},switchV:{position:"absolute",top:"2px",left:"10px",zIndex:5}});var pe=function(e){var t=e.language,n=e.areaData,o=e.world2D,c=e.tsv2json,i=e.worldData,l=Object(a.useState)(!1),u=Object(s.a)(l,2),m=u[0],d=u[1],f=ge();return Object(a.useEffect)((function(){Object(he.a)().reveal(".international",{duration:2e3,distance:"0px",reset:!0,rotate:{x:-100,z:-50}})}),[]),r.a.createElement("div",{className:f.root+" international"},r.a.createElement("div",{className:f.switchV},r.a.createElement(de,{display3D:m,setDisplay3D:d})),r.a.createElement("div",{style:{display:m?"none":"block",height:"100vh",width:"100vw"}},r.a.createElement(U,{world2D:o,areaData:n,language:t})),r.a.createElement("div",{style:{display:m?"block":"none",height:"100vh",width:"100vw"}},r.a.createElement(ce,{areaData:n,worldData:i,tsv2json:c,language:t})))},ve=n(685),be=n(613),we=Object(f.a)({root:{padding:"5px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",fontSize:"20px"},hint:{textAlign:"center",fontSize:"30px"}}),Ee=function(e){var t=e.language,n=e.chinaData,o=we(),c=["\u4f4d\u7f6e\u7f16\u53f7","\u6240\u5c5e\u5927\u6d32\u540d\u79f0","\u6240\u5c5e\u5927\u6d32\u82f1\u6587\u540d","\u56fd\u5bb6\u540d\u79f0","\u56fd\u5bb6\u82f1\u6587\u540d\u79f0","\u7701\u4efd\u540d\u79f0","\u7701\u4efd\u7b80\u79f0","\u7701\u4efd\u82f1\u6587\u540d\u79f0","\u5f53\u524d\u786e\u8bca\u4eba\u6570","\u7d2f\u8ba1\u786e\u8bca\u4eba\u6570","\u7591\u4f3c\u75c5\u4f8b\u6570","\u6cbb\u6108\u4eba\u6570","\u6b7b\u4ea1\u4eba\u6570","\u6240\u5305\u542b\u7684\u57ce\u5e02","\u8bc4\u8bba","\u66f4\u65b0\u65f6\u95f4"],i=["Position number","Name of continent","English Name of continent","Country name","Country English name","Province name","Province short name","Province English name","Current confirmed count","Confirmed count","Suspected count","Cured count","Dead count","Cities","Comments","Update time"],l=e.currentChoose;var u=Object(a.useState)(),m=Object(s.a)(u,2),d=m[0],f=m[1];return Object(a.useEffect)((function(){n&&f(n.filter((function(e){return e.provinceShortName===l})))}),[l,n]),Object(a.useEffect)((function(){}),[d]),r.a.createElement("div",{className:o.root},d?d[0]?Object.keys(d[0]).map((function(e,n){return"cities"!==e&&"cityName"!==e&&"locationId"!==e&&"comment"!==e&&"updateTime"!==e?r.a.createElement("span",{key:e},r.a.createElement("p",null,(t?c[n]:i[n])+" : "),r.a.createElement("p",null,d?d[0][e]:"")):"updateTime"===e?r.a.createElement("span",{key:e},r.a.createElement("p",null,(t?c[n]:i[n])+" : "),r.a.createElement("p",null,d?function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}(d[0][e]):"")):void 0})):r.a.createElement("p",{className:o.hint},t?"\u70b9\u51fb\u5404\u7701\u53ef\u4ee5\u67e5\u770b\u8be5\u7701\u7684\u8be6\u7ec6\u60c5\u51b5":"Click on the province to see the details of the province"):r.a.createElement("p",null,t?"\u70b9\u51fb\u5404\u7701\u53ef\u4ee5\u67e5\u770b\u8be5\u7701\u7684\u8be6\u7ec6\u60c5\u51b5":"Click on the province to see the details of the province"))},ye=n(355),je=n.n(ye),Ce=function(e){var t,n=e.className,o=e.handleChange,c=e.setCurrentChoose,i=e.language,l=e.chinaData,u=e.chinaMapData,s=function(){t=je()("map",u.dimension.width,u.dimension.height);var e=l.map((function(e){return{"\u7701\u4efd":e.provinceShortName,province:e.provinceEnglishName,value:e.confirmedCount}}));u.paths.forEach((function(n){var a=e.filter((function(e){return e.\u7701\u4efd===n.name})),r=function(e){return e<50?Q.a[50]:e<100?Q.a[100]:e<500?Q.a[200]:e<1e3?Q.a[400]:e<2e3?Q.a[600]:Q.a[900]}(parseInt(a[0].value)),l=n.cmd.map((function(e){return e.method+" "+e.param.join(",")})).join(" "),u=t.path(l).attr({fill:r,cursor:"pointer"});u.click((function(){o(),setTimeout((function(){c(n.name),o()}),200)})),u.mouseover((function(){u.attr("fill","#ffff00")})),u.mouseout((function(){u.attr("fill",r)}));var s=u.getBBox(),m=t.text(s.x+s.width/2+(n.offset?n.offset.x:0),s.y+s.height/2+(n.offset?n.offset.y:0),i?a[0].\u7701\u4efd:a[0].province).attr("cursor","pointer");m.mouseover((function(){u.attr("fill","#ffff00")})),m.mouseout((function(){u.attr("fill",r)})),m.click((function(){o(),setTimeout((function(){c(n.name),o()}),200)}))}))};return Object(a.useEffect)((function(){return l&&u&&s(),function(){t&&t.remove()}}),[i,l,u]),r.a.createElement("div",{id:"map",className:n})},xe=Object(f.a)({root:{display:"flex",justifyContent:"flex-start",alignItems:"center"},label:{height:"15px",width:"30px",marginRight:"5px",fontSize:"5px"}});var ke=function(e){var t=xe(),n=e.color,a=e.value;return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.label,style:{backgroundColor:n}}),r.a.createElement("span",null,a))},Oe=Object(f.a)({root:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff9c4"},labels:{marginTop:"20vh",marginRight:"5vw",border:"solid 2px black",borderRadius:"5px",padding:"2px",minWidth:"144px",backgroundColor:"#e1f5fe"},detail:{width:"30vw",height:"80vh",display:"flex",flexDirection:"column",justifyContent:"space-around",padding:"4px",transition:"all 1s linear","& span":{display:"flex",padding:"2px",justifyContent:"space-between",height:"5vh",alignItems:"center"}}});var De=function(e){var t=e.chinaData,n=e.language,o=e.chinaMapData,c=Object(a.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],m=[{color:Q.a[50],value:"0-49"},{color:Q.a[100],value:"50-99"},{color:Q.a[200],value:"100-499"},{color:Q.a[400],value:"500-999"},{color:Q.a[600],value:"1000-2000"},{color:Q.a[900],value:"2000+"}],d=Oe(),f=Object(a.useState)(!0),h=Object(s.a)(f,2),g=h[0],p=h[1];return Object(a.useEffect)((function(){Object(he.a)().reveal(".ChinaMap",{duration:2e3,distance:"0px",reset:!0,rotate:{x:20,z:20}})}),[]),r.a.createElement("div",{className:d.root+" ChinaMap"},r.a.createElement(Ce,{chinaMapData:o,language:n,chinaData:t,handleChange:function(){return p((function(e){return!e}))},setCurrentChoose:u}),r.a.createElement("div",{className:d.labels},r.a.createElement("strong",null,n?"\u7d2f\u8ba1\u786e\u8bca\u4eba\u6570":"confirmed count"),m.map((function(e,t){return r.a.createElement(ke,{key:t,color:e.color,value:e.value})}))),r.a.createElement("div",{id:"detail",className:d.detail},r.a.createElement(ve.a,{direction:"left",in:g,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(be.a,{elevation:10},r.a.createElement(Ee,{chinaData:t,language:n,currentChoose:l})))))},Ne=n(362),Se=Object(f.a)((function(e){return{chart:{height:"80vh",width:"80vw"}}}));var He=function(e){var t=e.language,n=e.chinaData,o=e.displayLabel,c=Se();return Object(a.useEffect)((function(){if(n){var e=n.map((function(e){return{"\u7701\u4efd":e.provinceShortName,province:e.provinceEnglishName,value:e[o]>0?e[o]:0}}));e=e.sort((function(e,t){return-t.value+e.value}));var a=new Ne.a({container:"province",autoFit:!0});return a.data(e),a.scale({value:{max:1.2*e[e.length-1].value,min:0,alias:t?"\u5355\u4f4d/\u4eba":"people"}}),a.axis(t?"\u7701\u4efd":"province",{title:{offset:10,style:{fontSize:18,fontWeight:800}},tickLine:null}),a.axis("value",{label:null,title:{offset:5,style:{fontSize:18,fontWeight:800}}}),a.coordinate().transpose(),a.interval().position((t?"\u7701\u4efd":"province")+"*value").size(18).label("value",{style:{fill:"#8d8d8d",fontWeight:800},offset:10}),a.interaction("element-active"),setTimeout((function(){return a.render()}),0),function(){a.destroy()}}}),[o,t,n]),r.a.createElement("div",{id:"province",className:c.chart})},ze=n(694),Ie=n(690),Me=n(686),Te=n(691),Pe=Object(f.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,border:"1px solid black",borderRadius:"3px",padding:"8px"}}}));var Be=function(e){var t=e.displayLabel,n=e.setDisplayLabel,a=e.language,o=Pe(),c=r.a.useState(!1),i=Object(s.a)(c,2),l=i[0],u=i[1];return r.a.createElement(Me.a,{className:o.formControl},r.a.createElement(ze.a,{id:"demo-controlled-open-select-label"},a?"\u663e\u793a":"display"),r.a.createElement(Te.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:l,onClose:function(){u(!1)},onOpen:function(){u(!0)},value:t,onChange:function(e){n(e.target.value)}},r.a.createElement(Ie.a,{value:"currentConfirmedCount"},a?"\u5f53\u524d\u786e\u8bca\u6570":"current confirmed count"),r.a.createElement(Ie.a,{value:"confirmedCount"},a?"\u7d2f\u8ba1\u786e\u8bca\u6570":"confirm count"),r.a.createElement(Ie.a,{value:"suspectedCount"},a?"\u7591\u4f3c\u75c5\u4f8b\u6570":"suspected count"),r.a.createElement(Ie.a,{value:"curedCount"},a?"\u6cbb\u6108\u6570":"cured count"),r.a.createElement(Ie.a,{value:"deadCount"},a?"\u6b7b\u4ea1\u6570":"dead count")))},Le=Object(f.a)((function(e){return{root:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#fff9c4"},chooseInput:{display:"flex",justifyContent:"space-between",alignItems:"center"}}}));var We=function(e){var t=e.language,n=e.chinaData,o=Object(a.useState)("confirmedCount"),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Le();return Object(a.useEffect)((function(){Object(he.a)().reveal(".ProvinceMap",{duration:2e3,rotate:{x:-50,z:-20},reset:!0})}),[t,n,i]),r.a.createElement("div",{className:u.root+" ProvinceMap"},r.a.createElement("div",{className:u.chooseInput},r.a.createElement(Be,{displayLabel:i,language:t,setDisplayLabel:l})),r.a.createElement(He,{displayLabel:i,language:t,chinaData:n}))},Ye=n(167),Ae=n(168),Fe=n(187),Re=n(185),Ve=function(e){Object(Fe.a)(n,e);var t=Object(Re.a)(n);function n(e){var a;return Object(Ye.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(Ae.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{style:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("h1",null,"Something went wrong. Please refresh the page.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),$e=Object(f.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),Ge=function(){var e=$e();return r.a.createElement("div",{className:e.root},r.a.createElement(C.a,null))},qe="http://47.103.207.168:8080",Je=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(qe+"/Hel").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(qe+"/2Dearth").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(qe+"/worldData").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(qe+"/tsv2json").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(qe+"/chinamapData").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=r.a.lazy((function(){return Promise.all([n.e(4),n.e(6)]).then(n.bind(null,746))})),_e=r.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,741))})),et=Object(f.a)((function(e){return{root:{transition:"all 1s linear"},gitBut:{position:"absolute",top:"10px",left:"10px"},backdrop:{zIndex:e.zIndex.drawer+2,color:"#fff"},bdButton:{position:"fixed",right:"10px",top:"10px"}}}));var tt=function(){var e=et(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!0),f=Object(s.a)(i,2),g=f[0],p=f[1],v=Object(a.useState)(!1),b=Object(s.a)(v,2),w=b[0],E=b[1],y=Object(a.useState)(),C=Object(s.a)(y,2),x=C[0],k=C[1],O=Object(a.useState)(),N=Object(s.a)(O,2),S=N[0],H=N[1],z=Object(a.useState)(),I=Object(s.a)(z,2),M=I[0],T=I[1],P=Object(a.useState)(),B=Object(s.a)(P,2),L=B[0],W=B[1],Y=Object(a.useState)(),A=Object(s.a)(Y,2),F=A[0],R=A[1],V=Object(a.useState)(),$=Object(s.a)(V,2),G=$[0],J=$[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:return t=e.sent,k(t),t=(t=t.results.filter((function(e){return"\u4e2d\u56fd"===e.countryName&&"\u4e2d\u56fd"!==e.provinceShortName}))).filter((function(e){return void 0!==e})),H(t),e.next=9,Xe();case 9:return t=e.sent,T(t),e.next=13,Ke();case 13:return t=e.sent,W(t),e.next=17,Ue();case 17:return t=e.sent,R(t.results),e.next=21,Ze();case 21:t=e.sent,J(t),setTimeout((function(){return E(!0)}),0);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.gitBut},r.a.createElement(h.a,{href:"https://github.com/HCI-AP-team/AP-coursework-front-end","data-color-scheme":"no-preference: light; light: light; dark: dark;","data-size":"large","data-show-count":!0,"aria-label":"Star HCI-AP-team/AP-coursework-front-end on GitHub"},"Star")),r.a.createElement(q,{language:g}),r.a.createElement(Ve,null,r.a.createElement(D,{setLanguage:p,language:g,displayText:w})),r.a.createElement(Ve,null,r.a.createElement(pe,{language:g,tsv2json:F,worldData:L,world2D:M,areaData:x})),r.a.createElement(Ve,null,r.a.createElement(De,{chinaMapData:G,language:g,chinaData:S})),r.a.createElement(Ve,null,r.a.createElement(We,{language:g,chinaData:S})),r.a.createElement(Ve,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(Ge,null)},r.a.createElement(Qe,{language:g,chinaData:S}))),r.a.createElement(Ve,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(Ge,null)},r.a.createElement(_e,{language:g}))),r.a.createElement(m.a,{variant:"outlined",color:"primary",onClick:function(){c(!o)},className:e.bdButton},g?"\u5173\u4e8e\u6211\u4eec":"about us"),r.a.createElement(d.a,{className:e.backdrop,open:o,onClick:function(){c(!1)}},r.a.createElement(j,{language:g})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[406,1,2]]]);
//# sourceMappingURL=main.94a322e8.chunk.js.map